---
import type { MarkdownHeading } from "astro";

interface Props {
  headers: MarkdownHeading[];
  maxDepth: number;
}

const { headers, maxDepth } = Astro.props;
const filteredHeaders = headers.filter(
  (header) => header.depth > 1 && header.depth < maxDepth + 1
);
---

<span class="mb-2 font-semibold">On this page</span>
<nav class="toc text-[0.95rem]">
  <ol>
    {
      filteredHeaders.map((header) => (
        <li class={`toc-depth-${header.depth}`}>
          <a href={`#${header.slug}`}>{header.text}</a>
        </li>
      ))
    }
  </ol>
</nav>

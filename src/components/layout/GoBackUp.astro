---
import Icon from "$components/Icon.astro";
---

<button
	id="go-up"
	title="Scroll to top"
	class="fixed bottom-0 right-0 hidden opacity-0 transition-all duration-300 ease-in-out hover:cursor-pointer hover:text-accent-valencia hover:opacity-100 sm:block print:hidden"
	><Icon name="arrow-up" size={28} title="" class={"bg-white-sugar-cane rounded-full"} /></button
>

<script></script>

<style>
	button {
		border: none;
		margin: 1.5rem;
		padding: 0;
		width: auto;
		overflow: visible;

		background: transparent;

		/* inherit font & color from ancestor */
		color: inherit;
		font: inherit;

		/* Normalize `line-height`. Cannot be changed from `normal` in Firefox 4+. */
		line-height: normal;

		/* Corrects font smoothing for webkit */
		-webkit-font-smoothing: inherit;
		-moz-osx-font-smoothing: inherit;

		/* Corrects inability to style clickable `input` types in iOS */
		-webkit-appearance: none;
	}
</style>

<script>
	const app = document.getElementById("app");
	const goUp = document.getElementById("go-up");

	if (app && goUp) {
		goUp.addEventListener("click", () => {
			window.scrollTo({ top: 0, behavior: "smooth" });
		});

		window.addEventListener("scroll", () => {
			if (window.scrollY > 500) {
				goUp.inert = false;
				goUp.classList.remove("opacity-0");
				goUp.classList.add("opacity-35");
			} else {
				goUp.inert = true;
				goUp.classList.remove("opacity-35");
				goUp.classList.add("opacity-0");
			}
		});
	}
</script>
